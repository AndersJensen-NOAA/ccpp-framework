
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>1. CCPP Overview &#8212; CCPPtraining v1.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. CCPP-Compliant Physics Parameterizations" href="CompliantPhysicsParams.html" />
    <link rel="prev" title="CCPP Training Documentation" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="CompliantPhysicsParams.html" title="2. CCPP-Compliant Physics Parameterizations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="CCPP Training Documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CCPPtraining v1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ccpp-overview">
<span id="overview"></span><h1>1. CCPP Overview<a class="headerlink" href="#ccpp-overview" title="Permalink to this headline">¶</a></h1>
<p>Ideas for this project originated within the Earth System Prediction Capability (ESPC)
Physics Interoperability group, which has representatives from NCAR, the Navy, NOAA
Research, NOAA National Weather Service, and other groups. Physics Interoperability,
or the ability to run a given physics suite in various host models, has been a goal
of this multi-agency group for several years. An initial mechanism to run the physics
of NOAA’s Global Forecast System (GFS) model in other host models was developed by
the NOAA Environmental Modeling Center (EMC) and later augmented by NOAA GFDL.  The
CCPP expanded on that work by meeting additional requirements put forth by
<a class="reference external" href="https://dtcenter.org/gmtb/users/ccpp/developers/requirements/CCPP_REQUIREMENTS.pdf">NOAA</a>,
and brought new functionalities to the physics-dynamics interface. Those include
the ability to choose the order of parameterizations, to subcycle individual
parameterizations by running them more frequently than other parameterizations,
and to group arbitrary sets of parameterizations allowing other computations in
between them (e.g., dynamics and coupling computations).</p>
<p>The architecture of the CCPP and its connection to a host model is shown in
<a class="reference internal" href="#ccpp-arch-host"><span class="std std-numref">Figure 1.1</span></a>.
There are two distinct parts to the CCPP: a library of physical parameterizations
that conforms to selected standards (<em>CCPP-Physics</em>) and an infrastructure (<em>CCPP-Framework</em>)
that enables connecting the physics to host models.</p>
<div class="figure align-center" id="id1">
<span id="ccpp-arch-host"></span><img alt="_images/ccpp_arch_host.png" src="_images/ccpp_arch_host.png" />
<p class="caption"><span class="caption-number">Fig. 1.1 </span><span class="caption-text"><em>Architecture of the CCPP and its connection with a host model,
here represented as the driver for an atmospheric model (yellow box). The dynamical
core (dycore), the physics, and other aspects of the model (such as coupling) are
connected to the driving host through the pool of physics caps. The CCPP-Physics is
denoted by the gray box at the bottom of the physics, and encompasses the
parameterizations, which are accompanied by parameterization caps.</em></span></p>
</div>
<p>The host model also needs to have functional documentation for any variable that will be
passed to, or received from, the physics. The CCPP-Framework is used to compare the variables
requested by each physical parameterization against those provided by the host model, and
check whether they are available (otherwise an error is issued).  This process has greatly
served to expose the variables passed between physics and dynamics, and also to clarify
how suites exchange information among parameterizations. During runtime, the CCPP-Framework
is responsible for communicating the necessary variables between the host model and the
parameterizations.</p>
<p>Building the CCPP involves a <em>prebuild</em> step, and an actual build step. As of this
writing, the CCPP has been connected with the GMTB Single Column Model (SCM)
and with various configurations of NOAA’s Unified
Forecast System (UFS). As described in detail later in this document, there are
multiple modes of building the CCPP along with the UFS, and the user should choose the
mode that best matches their needs. With the CCPP dynamic build, all CCPP-compliant
parameterizations are compiled into a library which is linked to the host model at
runtime. Conversely, with the CCPP static build, a single suite is compiled into a
library and linked to the host model when it is compiled. The dynamic build favors
flexibility, as users can choose the parameterizations and their order at runtime,
while the static build favors performance, as it provides superior execution time and
a smaller memory footprint. The type of build defines several differences in the
creation and use of the auto-generated code, many of which are not exposed to the user.
The differences pertain to  the interfaces between CCPP-Framework and the physics
(physics <em>caps</em>) and the host model (host model <em>cap</em>), as well as in the procedures
for calling the physics. When the CCPP is used with the SCM, the dynamic build is used.</p>
<p>The CCPP Physics is envisioned to contain parameterizations and suites that are used
operationally in the UFS, as well as parameterizations that are under development
for possible transition to operations in the future. By distributing and supporting
the CCPP to the scientific community, a large number of scientists can experiment
with and innovate physics.  <a class="reference internal" href="#ccpp-ecosystem"><span class="std std-numref">Figure 1.2</span></a> shows the CCPP ecosystem,
a significant effort in transition of research to operations that can benefit physics
developers, users, and NOAA operations.</p>
<p>The CCPP-Physics and its associated CCPP-Framework are developed as open source codes,
follow industry-standard code management practices, and are freely distributed through
GitHub (<a class="reference external" href="https://github.com/NCAR/ccpp-physics">https://github.com/NCAR/ccpp-physics</a> and <a class="reference external" href="https://github.com/NCAR/ccpp-framework">https://github.com/NCAR/ccpp-framework</a>).</p>
<div class="figure align-center" id="id2">
<span id="ccpp-ecosystem"></span><img alt="_images/ccpp_ecosystem.png" src="_images/ccpp_ecosystem.png" />
<p class="caption"><span class="caption-number">Fig. 1.2 </span><span class="caption-text"><em>CCPP ecosystem</em></span></p>
</div>
<p>The first public release of CCPP took place in April 2018 and included all parameterizations
of the operational GFS v14, along with the ability to connect to the GMTB SCM.
The second public release of the CCPP took place in August of 2018 and additionally included
the physics suite tested in advance of the GFS v15 implementation.  Since then, additional
parameterizations have been made CCPP-compliant, in order to encompass the suites that are
under consideration for GFS v16.  A summary of the suites supported in the CCPP can be found
in <a class="reference internal" href="#scheme-suite-table"><span class="std std-numref">Table 1.1</span></a>.  In addition to the schemes listed, it is expected
that, as time goes on, other parameterizations will be considered for inclusion in the CCPP.</p>
<p>The CCPP is governed by the groups that contribute to its development.  Governance for the
CCPP-Physics is currently led by NOAA, and the GMTB works with EMC and the NGGPS Program Office
to determine which schemes and suites should be included and supported. Governance for the
CCPP-Framework is done jointly by NOAA and NCAR, and more information can be found at
<a class="reference external" href="https://github.com/NCAR/ccpp-framework/wiki">https://github.com/NCAR/ccpp-framework/wiki</a>. Additional information can also be found on
the GMTB website at <a class="reference external" href="https://dtcenter.org/gmtb/users/ccpp">https://dtcenter.org/gmtb/users/ccpp</a>. Please direct all inquiries to <a class="reference external" href="mailto:gmtb-help&#37;&#52;&#48;ucar&#46;edu">gmtb-help<span>&#64;</span>ucar<span>&#46;</span>edu</a>.</p>
<span id="scheme-suite-table"></span><table border="1" class="docutils" id="id3">
<caption><span class="caption-number">Table 1.1 </span><span class="caption-text"><em>Schemes and suites available in the CCPP</em></span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="22%" />
<col width="14%" />
<col width="15%" />
<col width="19%" />
<col width="14%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Schemes/Suites</strong></th>
<th class="head"><strong>GFS v14</strong></th>
<th class="head"><strong>FV3GFSv1</strong></th>
<th class="head"><strong>FV3GFS v1.1</strong></th>
<th class="head"><strong>EMC/CPT</strong></th>
<th class="head"><strong>GSD</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Microphysics</td>
<td>Zhao-Carr</td>
<td>GFDL</td>
<td>GFDL</td>
<td>aaMG3</td>
<td>aaThompson</td>
</tr>
<tr class="row-odd"><td>PBL</td>
<td>EDMF</td>
<td>EDMF</td>
<td>TKE EDMF</td>
<td>EDMF</td>
<td>MYNN</td>
</tr>
<tr class="row-even"><td>Deep cu</td>
<td>saSAS</td>
<td>saSAS</td>
<td>saSAS</td>
<td>CSAW</td>
<td>GF</td>
</tr>
<tr class="row-odd"><td>Shallow cu</td>
<td>saSAS</td>
<td>saSAS</td>
<td>saSAS</td>
<td>saSAS</td>
<td>MYNN</td>
</tr>
<tr class="row-even"><td>Radiation</td>
<td>RRTMG</td>
<td>RRTMG</td>
<td>RRTMG</td>
<td>RRTMG</td>
<td>RRTMG</td>
</tr>
<tr class="row-odd"><td>Surface Layer</td>
<td>GFS</td>
<td>GFS</td>
<td>GFS</td>
<td>GFS</td>
<td>GFS</td>
</tr>
<tr class="row-even"><td>Land surface</td>
<td>Noah</td>
<td>Noah</td>
<td>Noah</td>
<td>Noah</td>
<td>RUC</td>
</tr>
<tr class="row-odd"><td>Ozone</td>
<td>NRL 2006</td>
<td>NRL 2015</td>
<td>NRL 2015</td>
<td>NRL 2015</td>
<td>NRL 2015</td>
</tr>
<tr class="row-even"><td>H2O</td>
<td>None</td>
<td>NRL 2015</td>
<td>NRL 2015</td>
<td>NRL 2015</td>
<td>NRL 2015</td>
</tr>
</tbody>
</table>
<p><em>The first row lists the suites currently available in the CCPP. The first column
denotes the types of parameterizations, where cu stands for convective parameterization and H2O for
stratospheric water vapor. The operational GFS V14 suite (column 1) used Zhao-Carr microphysics,
Eddy-Diffusivity Mass Flux (EDMF) PBL, scale-aware Simplified Arakawa Schubert (saSAS) convection,
Rapid Radiation Transfer Model for General Circulation Models (RRTMG) radiation, GFS surface layer,
Noah LSM, Navy Research Laboratory (NRL) ozone, and no stratospheric water vapor scheme.  The FV3GFS
v1 suite, uses the GFDL microphysics and the NRL 2015 ozone and photolysis schemes. The other three
suites are candidates for future operational implementations. The FV3GFS v1.1 suite uses Turbulent
Kinetic Energy (TKE)-based EDMF, the EMC and Climate Process Team (CPT) suite uses the scale-aware
(aa) Morrison-Gettelman 3 (MG3) microphysics and Chikira-Sugiyama convection with Arakawa-Wu extension
(CSAW) deep convection, and the NOAA Global Systems Division (GSD) suite uses aerosol aware
Thompson microphysics, Mellor-Yamada-Nakashini-Niino (MYNN) PBL and shallow convection, and
Rapid Update Cycle (RUC) LSM.</em></p>
<div class="section" id="how-to-use-this-document">
<h2>1.1. How To Use This Document<a class="headerlink" href="#how-to-use-this-document" title="Permalink to this headline">¶</a></h2>
<p>This document contains documentation for the Common Community Physics Package (CCPP). It decsribes the:</p>
<ul class="simple">
<li>physics schemes and interstitials</li>
<li>suite definition files</li>
<li>CCPP-compliant parameterizations</li>
<li>adding a new scheme/suite</li>
<li>host-side coding</li>
<li>fundamentals of obtaining, pre-building, building and running the CCPP with NEMSfv3gfs</li>
<li>CCPP code management and governance</li>
</ul>
<p>For the latest version of the released code, please visit the <a class="reference external" href="http://www.dtcenter.org/gmtb/users/ccpp">GMTB Website</a></p>
<p>Please send questions and comments to the help desk: <cite>gmtb-help&#64;ucar.edu</cite></p>
<p>This table describes the type changes and symbols used in this guide.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="32%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Typeface or Symbol</strong></th>
<th class="head"><strong>Meaning</strong></th>
<th class="head"><strong>Example</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">AaBbCc123</span></code></td>
<td>The names of commands,
files, and directories; <br />
on-screen computer output</td>
<td>Edit your <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> <br />
Use <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-a</span></code> to list all files. <br />
<code class="docutils literal notranslate"><span class="pre">host$</span> <span class="pre">You</span> <span class="pre">have</span> <span class="pre">mail!</span></code></td>
</tr>
</tbody>
</table>
<p>Following these typefaces and conventions, shell commands, code examples, namelist variables, etc.
will be presented in this style:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">mkdir ${TOP_DIR}</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. CCPP Overview</a><ul>
<li><a class="reference internal" href="#how-to-use-this-document">1.1. How To Use This Document</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">CCPP Training Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="CompliantPhysicsParams.html"
                        title="next chapter">2. CCPP-Compliant Physics Parameterizations</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Overview.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="CompliantPhysicsParams.html" title="2. CCPP-Compliant Physics Parameterizations"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="CCPP Training Documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">CCPPtraining v1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019 .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>